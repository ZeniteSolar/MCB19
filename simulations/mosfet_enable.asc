Version 4
SHEET 1 880 680
WIRE -560 -448 -560 -496
WIRE -624 -400 -672 -400
WIRE -896 -352 -944 -352
WIRE -784 -352 -896 -352
WIRE -736 -352 -784 -352
WIRE -240 -352 -560 -352
WIRE -192 -352 -240 -352
WIRE 144 -352 -64 -352
WIRE -896 -320 -896 -352
WIRE -256 -320 -288 -320
WIRE -192 -320 -256 -320
WIRE -16 -320 -64 -320
WIRE 80 -320 64 -320
WIRE 144 -320 144 -352
WIRE -784 -304 -784 -352
WIRE -560 -304 -560 -352
WIRE -192 -288 -208 -288
WIRE -48 -288 -64 -288
WIRE 80 -272 80 -320
WIRE 144 -272 144 -288
WIRE 144 -272 80 -272
WIRE -256 -256 -288 -256
WIRE -192 -256 -256 -256
WIRE -48 -256 -64 -256
WIRE 144 -256 144 -272
WIRE -896 -208 -896 -256
WIRE -784 -208 -784 -224
WIRE -784 -208 -896 -208
WIRE -672 -208 -672 -224
WIRE -672 -208 -784 -208
WIRE -560 -208 -560 -224
WIRE -560 -208 -672 -208
WIRE -896 -176 -896 -208
WIRE -1024 -144 -1392 -144
WIRE -1024 -96 -1024 -144
WIRE 624 -80 624 -96
WIRE 752 -80 624 -80
WIRE -1104 -48 -1120 -48
WIRE -1072 -48 -1104 -48
WIRE 624 -48 624 -80
WIRE -928 0 -1024 0
WIRE -752 0 -848 0
WIRE -320 0 -752 0
WIRE 80 0 -240 0
WIRE 560 0 544 0
WIRE -1392 16 -1392 -144
WIRE 752 32 752 -80
WIRE -1024 48 -1024 0
WIRE 320 48 272 48
WIRE 432 48 320 48
WIRE 480 48 432 48
WIRE -752 64 -752 0
WIRE 624 64 624 48
WIRE 672 64 624 64
WIRE -1392 80 -1392 16
WIRE -1024 80 -1024 48
WIRE -496 80 -528 80
WIRE -400 80 -496 80
WIRE 80 80 80 0
WIRE 320 80 320 48
WIRE 432 96 432 48
WIRE 624 96 624 64
WIRE -400 112 -400 80
WIRE -1104 128 -1120 128
WIRE -1072 128 -1104 128
WIRE -528 128 -528 80
WIRE -496 128 -528 128
WIRE -496 160 -496 128
WIRE 320 192 320 144
WIRE 432 192 432 176
WIRE 432 192 320 192
WIRE 544 192 544 176
WIRE 544 192 432 192
WIRE 624 192 624 176
WIRE 624 192 544 192
WIRE 752 192 752 96
WIRE 752 192 624 192
WIRE -1392 208 -1392 160
WIRE -1024 208 -1024 176
WIRE -1024 208 -1392 208
WIRE -752 208 -752 128
WIRE -752 208 -1024 208
WIRE -592 208 -752 208
WIRE -576 208 -592 208
WIRE -448 208 -480 208
WIRE -400 208 -400 192
WIRE -400 208 -448 208
WIRE 80 208 80 144
WIRE 80 208 -400 208
WIRE 624 224 624 192
WIRE -1024 240 -1024 208
WIRE -1392 256 -1392 208
WIRE -560 480 -560 448
WIRE -368 480 -368 464
WIRE -240 480 -240 464
WIRE -560 528 -560 512
WIRE -368 528 -368 512
WIRE -240 528 -240 512
FLAG -592 208 d
FLAG -1392 256 0
FLAG -368 464 enable_mosfet
FLAG -368 528 0
FLAG 624 -96 +12V
FLAG 272 48 enable_mosfet
FLAG 624 224 0
FLAG -240 464 +12V
FLAG -240 528 0
FLAG -496 80 gate
FLAG -448 208 source
FLAG 672 64 gate
FLAG 80 0 vo1_p
FLAG -1392 16 vi
FLAG 80 208 vo1_n
FLAG -1200 -48 GH
FLAG -1200 128 GL
FLAG -1024 48 HS
FLAG -1024 240 0
FLAG 144 -256 0
FLAG -48 -288 0
FLAG -560 -496 +12V
FLAG -256 -320 HB
FLAG -256 -256 HS
FLAG -48 -256 GL
FLAG -208 -288 GH
FLAG 144 -352 PWM
FLAG -560 528 0
FLAG -240 -352 vcc
FLAG -944 -352 enable_driver
FLAG -560 448 enable_driver
FLAG -896 -176 0
SYMBOL voltage -1392 64 M0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR SpiceLine Rser=100m
SYMATTR InstName Vi
SYMATTR Value {Vi}
SYMBOL MiniSyms4\\voltage- -368 496 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Enable
SYMATTR Value PULSE(0 5 200m 1e-9 1e-9 200m 400m 0)
SYMBOL pnp 560 48 M180
SYMATTR InstName Q1
SYMATTR Value BC857A
SYMBOL res 608 80 R0
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL MiniSyms4\\voltage- -240 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 11 39 Left 0
SYMATTR SpiceLine Rser=100m
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL res 560 192 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL npn 480 0 R0
SYMATTR InstName Q2
SYMATTR Value BC847A
SYMBOL EXTRA\\IRF\\NMOSFET\\irfp260n -528 176 M90
SYMATTR InstName U1
SYMBOL cap 736 32 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL res 448 192 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap 304 80 R0
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL res -416 96 R0
SYMATTR InstName R4
SYMATTR Value 10k
SYMBOL res -336 16 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R5
SYMATTR Value 1m
SYMBOL MiniSyms4\\voltage- 144 -304 R0
WINDOW 3 -17 -49 VRight 0
WINDOW 123 0 0 Left 0
WINDOW 39 7 17 Left 0
SYMATTR Value PULSE(0 5 1u 1n 1n 5u 10u)
SYMATTR InstName PWM1
SYMBOL EXTRA\\IRF\\NMOSFET\\IRFP4332PBF -1056 -48 R0
WINDOW 3 63 30 VLeft 0
SYMATTR InstName U2
SYMBOL EXTRA\\IRF\\NMOSFET\\IRFP4332PBF -1056 128 R0
WINDOW 3 63 30 VLeft 0
SYMATTR InstName U3
SYMBOL cap -272 -256 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C3
SYMATTR Value 100n
SYMBOL AutoGenerated\\lm5104 -128 -304 R0
SYMATTR InstName U4
SYMBOL res -1104 -64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 1
SYMBOL res -1104 112 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 1
SYMBOL res 80 -336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 100k
SYMBOL MiniSyms4\\voltage- -560 496 M0
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V4
SYMATTR Value PULSE(0 5 200u 1e-9 1e-9 200u 400u 0)
SYMBOL pnp -624 -352 M180
SYMATTR InstName Q3
SYMATTR Value BC857A
SYMBOL res -656 -208 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R10
SYMATTR Value 1k
SYMBOL res -576 -320 R0
SYMATTR InstName R11
SYMATTR Value 1k
SYMBOL npn -736 -400 R0
SYMATTR InstName Q4
SYMATTR Value BC847A
SYMBOL ind -832 -16 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 300u
SYMBOL cap -768 64 R0
SYMATTR InstName C4
SYMATTR Value {4*470u}
SYMBOL res -768 -208 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R6
SYMATTR Value 1k
SYMBOL cap -912 -320 R0
SYMATTR InstName C5
SYMATTR Value 100n
SYMBOL cap 64 80 R0
SYMATTR InstName C6
SYMATTR Value 10000
SYMATTR SpiceLine Rser=100m
SYMATTR Value2 ic=12
TEXT -48 368 Left 2 !.param Vi = 25\n.param Vo = 15\n.param Ro = 81\n.param Io = Vo/Ro
TEXT -48 336 Left 2 !.tran 0 1 0 startup
TEXT -280 -192 Left 2 !;tran 0 10m 0
