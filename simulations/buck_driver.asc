Version 4
SHEET 1 2800 812
WIRE 32 -288 32 -336
WIRE -96 -272 -96 -336
WIRE -192 -192 -192 -208
WIRE -96 -176 -96 -240
WIRE 32 -176 32 -208
WIRE -192 -144 -192 -160
WIRE 320 -48 256 -48
WIRE 480 -48 400 -48
WIRE 576 -48 480 -48
WIRE 752 -48 656 -48
WIRE 976 -48 752 -48
WIRE -352 -16 -352 -64
WIRE -352 -16 -416 -16
WIRE -304 -16 -352 -16
WIRE 752 -16 752 -48
WIRE 976 16 976 -48
WIRE 976 16 944 16
WIRE 1008 16 976 16
WIRE 944 32 944 16
WIRE -416 48 -416 -16
WIRE 720 48 672 48
WIRE 1008 48 1008 16
WIRE 720 64 720 48
WIRE 752 64 720 64
WIRE 784 64 752 64
WIRE 784 80 784 64
WIRE 672 112 640 112
WIRE 944 128 944 112
WIRE 976 128 944 128
WIRE 1008 128 1008 112
WIRE 1008 128 976 128
WIRE -352 144 -352 -16
WIRE -320 144 -352 144
WIRE 16 144 -192 144
WIRE 976 144 976 128
WIRE 752 160 720 160
WIRE 784 160 784 144
WIRE 784 160 752 160
WIRE 864 160 784 160
WIRE -416 176 -416 112
WIRE -384 176 -416 176
WIRE -320 176 -384 176
WIRE -144 176 -192 176
WIRE -48 176 -64 176
WIRE 16 176 16 144
WIRE 720 176 720 160
WIRE 720 176 672 176
WIRE -320 208 -336 208
WIRE -176 208 -192 208
WIRE -384 240 -416 240
WIRE -320 240 -384 240
WIRE -144 240 -192 240
WIRE -48 240 -48 176
WIRE 16 240 16 208
WIRE 16 240 -48 240
WIRE 480 240 480 -48
WIRE 16 256 16 240
WIRE 752 272 752 240
WIRE 752 272 592 272
WIRE 976 272 752 272
WIRE 1104 272 976 272
WIRE 1312 272 1184 272
WIRE 1424 272 1312 272
WIRE 752 304 752 272
WIRE 976 336 976 272
WIRE 976 336 944 336
WIRE 1008 336 976 336
WIRE -144 352 -144 240
WIRE -128 352 -144 352
WIRE 32 352 -48 352
WIRE 112 352 32 352
WIRE 944 352 944 336
WIRE 32 368 32 352
WIRE 720 368 672 368
WIRE 1008 368 1008 336
WIRE 720 384 720 368
WIRE 752 384 720 384
WIRE 784 384 752 384
WIRE -48 400 -48 352
WIRE 784 400 784 384
WIRE 1312 400 1312 272
WIRE 672 432 640 432
WIRE 944 448 944 432
WIRE 976 448 944 448
WIRE 1008 448 1008 432
WIRE 1008 448 976 448
WIRE 976 464 976 448
WIRE 752 480 720 480
WIRE 784 480 784 464
WIRE 784 480 752 480
WIRE 720 496 720 480
WIRE 720 496 672 496
WIRE -48 512 -48 480
WIRE 32 512 32 496
WIRE 32 512 -48 512
WIRE 112 512 32 512
WIRE 112 528 112 512
WIRE -336 592 -336 208
WIRE -128 592 -336 592
WIRE 32 592 -48 592
WIRE 112 592 32 592
WIRE 480 592 480 304
WIRE 480 592 256 592
WIRE 752 592 752 560
WIRE 752 592 480 592
WIRE 1312 592 1312 464
WIRE 1312 592 752 592
WIRE 1424 592 1312 592
WIRE 32 608 32 592
WIRE 480 624 480 592
WIRE -48 752 -48 672
WIRE 32 752 32 736
WIRE 32 752 -48 752
WIRE 112 752 32 752
FLAG 640 112 GH
FLAG 592 272 HS
FLAG 480 624 0
FLAG -192 -208 +12V
FLAG 16 256 0
FLAG -192 -144 0
FLAG -176 208 0
FLAG -352 -64 +12V
FLAG -384 176 HB
FLAG -384 240 HS
FLAG 112 352 GL
FLAG 112 592 GH
FLAG 16 144 PWM
FLAG -304 48 0
FLAG 1424 272 out+
FLAG 1424 592 out-
FLAG 256 -48 in+
FLAG 256 592 in-
FLAG 32 -336 out+
FLAG 32 -176 out-
FLAG -96 -336 in+
FLAG -96 -176 in-
FLAG 640 432 GL
FLAG 112 752 HS
FLAG 112 528 0
SYMBOL MiniSyms4\\voltage- 16 192 R0
WINDOW 3 -17 -49 VRight 0
WINDOW 123 0 0 Left 0
WINDOW 39 7 17 Left 0
SYMATTR Value PULSE(0 5 1u 10n 10n {D/Fsw} {1/Fsw})
SYMATTR SpiceLine Rser=2 Cpar=100n
SYMATTR InstName PWM2
SYMBOL MiniSyms4\\voltage- -192 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 7 17 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL res 16 -304 R0
SYMATTR InstName Ro
SYMATTR Value {Ro}
SYMBOL MiniSyms4\\voltage- -96 -256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 7 17 Left 0
SYMATTR SpiceLine Rser=100m
SYMATTR InstName Vi
SYMATTR Value {Vi}
SYMBOL cap -400 240 R180
WINDOW 0 24 56 Left 2
WINDOW 3 24 8 Left 2
SYMATTR InstName C1
SYMATTR Value 1u
SYMBOL AutoGenerated\\lm5104 -256 192 R0
SYMATTR InstName U1
SYMBOL res -32 576 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rg1
SYMATTR Value 10
SYMBOL res -48 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 300k
SYMBOL schottky -432 48 R0
SYMATTR InstName D1
SYMATTR Value SS34
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap -320 -16 R0
SYMATTR InstName C2
SYMATTR Value 10u
SYMATTR Value2 IC=15
SYMBOL ind 1088 288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName Lo
SYMATTR Value {Lo}
SYMATTR SpiceLine Rser={Lo_rse} Rpar=1Meg
SYMATTR Value2 IC={Io}
SYMBOL polcap 1296 400 R0
WINDOW 3 24 56 Left 2
SYMATTR Value {Co}
SYMATTR InstName Co
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=63 Irms=800m Rser={Co_rse} Lser=0 Rpar=1Meg
SYMBOL EXTRA\\IRF\\NMOSFET\\irfp260n 720 112 R0
SYMATTR InstName Q1
SYMBOL ind 304 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName Li
SYMATTR Value {Li}
SYMATTR SpiceLine Rser={Li_rse} Rpar=1Meg
SYMBOL polcap 464 240 R0
WINDOW 3 24 56 Left 2
SYMATTR Value {Ci}
SYMATTR InstName Ci
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=100 Irms=210m Rser={Ci_rse} Lser=0 Rpar=1Meg
SYMBOL ind 736 -32 R0
SYMATTR InstName Ld1
SYMATTR Value {Ld}
SYMBOL ind 736 144 R0
SYMATTR InstName Ls1
SYMATTR Value {Ls}
SYMBOL ind 560 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName Llk
SYMATTR Value 30n
SYMBOL cap 768 80 R0
SYMATTR InstName Cds1
SYMATTR Value {Coss-Crss}
SYMBOL cap 656 48 R0
SYMATTR InstName Cdg1
SYMATTR Value {Crss}
SYMBOL cap 656 112 R0
SYMATTR InstName Cgs1
SYMATTR Value {Ciss-Crss}
SYMBOL res -32 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rg2
SYMATTR Value 10
SYMBOL EXTRA\\IRF\\NMOSFET\\irfp260n 720 432 R0
SYMATTR InstName Q2
SYMBOL ind 736 464 R0
SYMATTR InstName Ls2
SYMATTR Value {Ls}
SYMBOL cap 768 400 R0
SYMATTR InstName Cds2
SYMATTR Value {Coss-Crss}
SYMBOL cap 656 368 R0
SYMATTR InstName Cdg2
SYMATTR Value {Crss}
SYMBOL cap 656 432 R0
SYMATTR InstName Cgs2
SYMATTR Value {Ciss-Crss}
SYMBOL ind 736 288 R0
SYMATTR InstName Ld2
SYMATTR Value {Ld}
SYMBOL res -64 384 R0
SYMATTR InstName Rpd2
SYMATTR Value 10k
SYMBOL res -64 576 R0
SYMATTR InstName Rpd1
SYMATTR Value 10k
SYMBOL res 928 336 R0
SYMATTR InstName Rsn2
SYMATTR Value {Rsn}
SYMBOL diode 992 368 R0
SYMATTR InstName Dsn2
SYMATTR Value 1N4148
SYMBOL cap 960 464 R0
SYMATTR InstName Csn2
SYMATTR Value {Csn}
SYMBOL res 928 16 R0
SYMATTR InstName Rsn1
SYMATTR Value {Rsn}
SYMBOL diode 992 48 R0
SYMATTR InstName Dsn1
SYMATTR Value 1N4148
SYMBOL cap 960 144 R0
SYMATTR InstName Csn1
SYMATTR Value {Csn}
SYMBOL zener 48 432 R180
WINDOW 0 -35 56 Left 2
WINDOW 3 -124 17 Left 2
SYMATTR InstName D2
SYMATTR Value BZX384B15
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener 48 672 R180
WINDOW 0 -36 53 Left 2
WINDOW 3 -127 29 Left 2
SYMATTR InstName D3
SYMATTR Value BZX384B15
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener 16 672 R0
SYMATTR InstName D4
SYMATTR Value BZX384B15
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener 16 432 R0
SYMATTR InstName D5
SYMATTR Value BZX384B15
SYMATTR Description Diode
SYMATTR Type diode
TEXT 1592 -448 Left 2 !.tran 0 20m 0
TEXT 1592 16 Left 2 !.param Ciss = 4057p\n.param Coss = 603p\n.param Crss = 161p\n.param Ld = 5n\n.param Ls = 13n
TEXT 1592 -232 Left 2 !.param Li = 100n\n.param Li_rse = 100m\n.param Ci = 4700u\n.param Ci_rse = 100m\n.param Lo = 300u\n.param Lo_rse = 100m\n.param Co = 4700u\n.param Co_rse = 100m
TEXT 1592 -400 Left 2 !.param Vi = 60.0\n.param Vo = 12.0\n.param Po = 100.0\n.param Fsw = 30.0e3\n.param Eff = 0.85
TEXT 1592 256 Left 2 !.param Pi = Po/Eff\n.param Io = Po/Vo\n.param D = Vo/Vi\n.param Ii = Pi/Vi\n.param Ro = Vo/Io
TEXT 1592 176 Left 2 !.param Rsn = 1\n.param Csn = 47n
TEXT 1600 416 Left 2 ;https://www.powerelectronicsnews.com/problems-solutions/the-buck-regulator-power-supply-design-tutorial-part-2-1
