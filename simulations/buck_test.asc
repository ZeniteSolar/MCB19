Version 4
SHEET 1 2800 812
WIRE 32 -288 32 -336
WIRE -96 -272 -96 -336
WIRE -192 -192 -192 -208
WIRE -96 -176 -96 -240
WIRE 32 -176 32 -208
WIRE -192 -144 -192 -160
WIRE 320 -48 256 -48
WIRE 480 -48 400 -48
WIRE 752 -48 480 -48
WIRE 752 -32 752 -48
WIRE -352 -16 -352 -64
WIRE -352 -16 -416 -16
WIRE -304 -16 -352 -16
WIRE 752 64 752 48
WIRE 784 64 752 64
WIRE 752 96 752 64
WIRE 752 96 736 96
WIRE 672 112 656 112
WIRE 752 128 736 128
WIRE -352 144 -352 -16
WIRE -320 144 -352 144
WIRE 16 144 -192 144
WIRE 752 160 752 128
WIRE 784 160 752 160
WIRE -416 176 -416 112
WIRE -384 176 -416 176
WIRE -320 176 -384 176
WIRE -144 176 -192 176
WIRE -48 176 -64 176
WIRE 16 176 16 144
WIRE 752 176 752 160
WIRE -320 208 -336 208
WIRE -176 208 -192 208
WIRE -368 240 -416 240
WIRE -320 240 -368 240
WIRE -144 240 -192 240
WIRE -48 240 -48 176
WIRE 16 240 16 208
WIRE 16 240 -48 240
WIRE 480 240 480 -48
WIRE 16 256 16 240
WIRE 752 272 752 256
WIRE 752 272 592 272
WIRE 944 272 752 272
WIRE 1088 272 944 272
WIRE 1184 272 1088 272
WIRE 1392 272 1264 272
WIRE 1504 272 1392 272
WIRE 752 288 752 272
WIRE -144 352 -144 240
WIRE -128 352 -144 352
WIRE 48 352 -48 352
WIRE 944 352 944 272
WIRE 752 384 752 368
WIRE 784 384 752 384
WIRE 1088 400 1088 272
WIRE 1392 400 1392 272
WIRE 752 416 752 384
WIRE 752 416 736 416
WIRE 672 432 656 432
WIRE -336 448 -336 208
WIRE -128 448 -336 448
WIRE 48 448 -48 448
WIRE 752 448 736 448
WIRE 944 464 944 432
WIRE 752 480 752 448
WIRE 784 480 752 480
WIRE 752 496 752 480
WIRE 480 592 480 304
WIRE 480 592 256 592
WIRE 752 592 752 576
WIRE 752 592 480 592
WIRE 1392 592 1392 464
WIRE 1392 592 752 592
WIRE 1504 592 1392 592
WIRE 480 624 480 592
FLAG 656 112 GH
FLAG 592 272 HS
FLAG 480 624 0
FLAG -192 -208 +12V
FLAG 16 256 0
FLAG -192 -144 0
FLAG -176 208 0
FLAG -352 -64 +12V
FLAG -384 176 HB
FLAG -368 240 HS
FLAG 48 352 GL
FLAG 48 448 GH
FLAG 16 144 PWM
FLAG -304 48 0
FLAG 1504 272 out+
FLAG 1504 592 out-
FLAG 256 -48 in+
FLAG 256 592 in-
FLAG 32 -336 out+
FLAG 32 -176 out-
FLAG -96 -336 in+
FLAG -96 -176 in-
FLAG 656 432 GL
FLAG 784 64 M1_D
FLAG 784 160 M1_S
FLAG 784 384 M2_D
FLAG 784 480 M2_S
SYMBOL MiniSyms4\\voltage- 16 192 R0
WINDOW 3 -17 -49 VRight 0
WINDOW 123 0 0 Left 0
WINDOW 39 7 17 Left 0
SYMATTR Value PULSE(0 5 1u 1n 1n {D/Fsw} {1/Fsw})
SYMATTR SpiceLine Rser=2 Cpar=100n
SYMATTR InstName PWM2
SYMBOL MiniSyms4\\voltage- -192 -176 R0
WINDOW 123 0 0 Left 0
WINDOW 39 7 17 Left 0
SYMATTR InstName V1
SYMATTR Value 12
SYMBOL res 16 -304 R0
SYMATTR InstName Ro
SYMATTR Value {Ro}
SYMBOL MiniSyms4\\voltage- -96 -256 R0
WINDOW 123 0 0 Left 0
WINDOW 39 7 17 Left 0
SYMATTR SpiceLine Rser=100m
SYMATTR InstName Vi
SYMATTR Value {Vi}
SYMBOL AutoGenerated\\lm5104 -256 192 R0
SYMATTR InstName U1
SYMBOL res -32 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rg1
SYMATTR Value 5
SYMBOL res -48 160 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 80k
SYMBOL schottky -432 48 R0
SYMATTR InstName D1
SYMATTR Value SS34
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL polcap -320 -16 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C2
SYMATTR Value 10u
SYMATTR Value2 IC=15
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=10 Irms=0 Rser=2.5 Lser=0 mfg="AVX" pn="TAJC106M010" type="Tantalum"
SYMBOL ind 1168 288 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName Lo
SYMATTR Value {Lo}
SYMATTR SpiceLine Rser={Lo_rse} Rpar=1Meg
SYMATTR Value2 IC={Io}
SYMBOL polcap 1376 400 R0
WINDOW 3 24 56 Left 2
SYMATTR Value {Co}
SYMATTR InstName Co
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=63 Irms=800m Rser={Co_rse} Lser=0 Rpar=1Meg
SYMBOL ind 304 -32 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 5 56 VBottom 2
SYMATTR InstName Li
SYMATTR Value {Li}
SYMATTR SpiceLine Rser={Li_rse} Rpar=1Meg
SYMBOL polcap 464 240 R0
WINDOW 3 24 56 Left 2
SYMATTR Value {Ci}
SYMATTR InstName Ci
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=100 Irms=210m Rser={Ci_rse} Lser=0 Rpar=1Meg
SYMBOL res -32 336 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName Rg2
SYMATTR Value 5
SYMBOL res 928 336 R0
SYMATTR InstName Rsn2
SYMATTR Value {Rsn}
SYMBOL cap 928 464 R0
SYMATTR InstName Csn2
SYMATTR Value {Csn}
SYMBOL schottky 1072 464 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value B560C
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 736 -48 R0
SYMATTR InstName R3
SYMATTR Value 1u
SYMBOL res 736 160 R0
SYMATTR InstName R4
SYMATTR Value 1u
SYMBOL res 736 272 R0
SYMATTR InstName R5
SYMATTR Value 1u
SYMBOL res 736 480 R0
SYMATTR InstName R6
SYMATTR Value 1u
SYMBOL irfp260n 704 112 R0
SYMATTR InstName U2
SYMBOL irfp260n 704 432 R0
SYMATTR InstName U3
TEXT 1592 -448 Left 2 !.tran 0 20m 0 startup
TEXT 1592 16 Left 2 !.param Ciss = 4057p\n.param Coss = 603p\n.param Crss = 161p\n.param Ld = 5n\n.param Ls = 13n
TEXT 1592 -232 Left 2 !.param Li = 1n\n.param Li_rse = 1u\n.param Ci =10u\n.param Ci_rse = 10m\n.param Lo = 120u\n.param Lo_rse = 1.82m\n.param Co = 47u\n.param Co_rse = 10m
TEXT 1592 -400 Left 2 !.param Vi = 60.0\n.param Vo = 15.0\n.param Po = 100.0\n.param Fsw = 32e3\n.param Eff = 1
TEXT 1592 256 Left 2 !.param Pi = Po/Eff\n.param Io = Po/Vo\n.param D = Vo/Vi\n.param Ii = Pi/Vi\n.param Ro = Vo/Io
TEXT 1592 176 Left 2 !.param Rsn = 2.2\n.param Csn = 1n
TEXT 1600 416 Left 2 ;https://www.powerelectronicsnews.com/problems-solutions/the-buck-regulator-power-supply-design-tutorial-part-2-1
