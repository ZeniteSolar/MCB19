Version 4
SHEET 1 1244 680
WIRE -80 80 -160 80
WIRE 272 80 224 80
WIRE 448 80 416 80
WIRE 672 80 448 80
WIRE -80 96 -80 80
WIRE 224 96 224 80
WIRE 448 96 448 80
WIRE 672 96 672 80
WIRE -160 112 -160 80
WIRE -160 192 -160 160
WIRE -80 192 -80 176
WIRE -80 192 -160 192
WIRE 224 192 224 176
WIRE 448 192 448 160
WIRE 448 192 224 192
WIRE 672 192 672 176
WIRE 672 192 448 192
WIRE -160 224 -160 192
WIRE 224 224 224 192
FLAG -160 80 in
FLAG 448 80 out
FLAG -160 224 0
FLAG 224 224 0
FLAG 224 80 buck
SYMBOL MiniSyms4\\battery- -160 144 R0
WINDOW 0 -57 -42 Left 0
SYMATTR Value 36
SYMATTR InstName BATERIA_PRINCIPAL
SYMBOL bv 224 80 M0
SYMATTR InstName BUCK
SYMATTR Value V=V(in)/3
SYMBOL res -96 80 R0
SYMATTR InstName MOTOR
SYMATTR Value {36/100}
SYMBOL res 656 192 M180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName CARGAS
SYMATTR Value {12/3}
SYMBOL cap 432 96 R0
SYMATTR InstName Bat
SYMATTR Value {c_bat}
SYMATTR Value2 IC=13
SYMATTR SpiceLine Rser=35m
SYMBOL diode 352 96 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D1
SYMBOL res 368 64 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 100m
TEXT 438 -30 Left 2 !.tran 14400
TEXT 440 -152 Left 2 !.param Vc_max = 13\n.param Vc_min = 10.5\n.param Ec = 89.88\n.param c_bat = (2*3600) * Ec / (Vc_max*Vc_max - Vc_min*Vc_min)
