Version 4
SHEET 1 928 680
WIRE -656 -512 -736 -512
WIRE -624 -512 -656 -512
WIRE -608 -512 -624 -512
WIRE -576 -512 -608 -512
WIRE -528 -512 -576 -512
WIRE -368 -512 -528 -512
WIRE -96 -512 -288 -512
WIRE -16 -512 -64 -512
WIRE 96 -512 -16 -512
WIRE 96 -464 96 -512
WIRE 192 -464 96 -464
WIRE -16 -448 -16 -512
WIRE 192 -448 192 -464
WIRE -384 -400 -416 -400
WIRE -352 -400 -384 -400
WIRE -256 -400 -272 -400
WIRE -208 -400 -256 -400
WIRE -112 -400 -208 -400
WIRE -96 -400 -112 -400
WIRE -112 -384 -112 -400
WIRE -208 -368 -208 -400
WIRE 96 -368 96 -384
WIRE 192 -368 192 -384
WIRE 192 -368 96 -368
WIRE -384 -336 -384 -400
WIRE -352 -336 -384 -336
WIRE -256 -336 -256 -400
WIRE -256 -336 -288 -336
WIRE -656 -272 -656 -512
WIRE -624 -272 -624 -512
WIRE -608 -272 -608 -512
WIRE -576 -272 -576 -512
WIRE -528 -272 -528 -512
WIRE -736 -256 -736 -512
WIRE 816 -256 800 -256
WIRE -208 -240 -208 -288
WIRE -112 -240 -112 -256
WIRE -112 -240 -208 -240
WIRE -48 -240 -112 -240
WIRE -16 -240 -16 -352
WIRE -16 -240 -48 -240
WIRE 96 -240 96 -304
WIRE 96 -240 -16 -240
WIRE 192 -240 96 -240
WIRE 368 -240 272 -240
WIRE 416 -240 368 -240
WIRE 464 -240 416 -240
WIRE 512 -240 464 -240
WIRE 576 -240 512 -240
WIRE 608 -240 576 -240
WIRE 640 -240 608 -240
WIRE 672 -240 640 -240
WIRE 800 -240 800 -256
WIRE 800 -240 672 -240
WIRE 96 -176 96 -240
WIRE 192 -176 96 -176
WIRE -16 -160 -16 -240
WIRE 192 -160 192 -176
WIRE 800 -160 800 -240
WIRE 368 -128 368 -240
WIRE 416 -128 416 -240
WIRE 464 -128 464 -240
WIRE 512 -128 512 -240
WIRE 576 -128 576 -240
WIRE 608 -128 608 -240
WIRE 640 -128 640 -240
WIRE 672 -128 672 -240
WIRE -384 -112 -416 -112
WIRE -352 -112 -384 -112
WIRE -256 -112 -272 -112
WIRE -192 -112 -256 -112
WIRE -112 -112 -192 -112
WIRE -96 -112 -112 -112
WIRE -112 -96 -112 -112
WIRE -192 -80 -192 -112
WIRE 96 -80 96 -96
WIRE 192 -80 192 -96
WIRE 192 -80 96 -80
WIRE -384 -48 -384 -112
WIRE -352 -48 -384 -48
WIRE -256 -48 -256 -112
WIRE -256 -48 -288 -48
WIRE -736 48 -736 -224
WIRE -656 48 -656 -208
WIRE -656 48 -736 48
WIRE -624 48 -624 -208
WIRE -624 48 -656 48
WIRE -608 48 -608 -208
WIRE -608 48 -624 48
WIRE -576 48 -576 -208
WIRE -576 48 -608 48
WIRE -528 48 -528 -208
WIRE -528 48 -576 48
WIRE -352 48 -528 48
WIRE -192 48 -192 0
WIRE -192 48 -272 48
WIRE -112 48 -112 32
WIRE -112 48 -192 48
WIRE -16 48 -16 -64
WIRE -16 48 -112 48
WIRE 96 48 96 -16
WIRE 96 48 -16 48
WIRE 368 48 368 -64
WIRE 368 48 96 48
WIRE 416 48 416 -64
WIRE 416 48 368 48
WIRE 464 48 464 -64
WIRE 464 48 416 48
WIRE 512 48 512 -64
WIRE 512 48 464 48
WIRE 576 48 576 -64
WIRE 576 48 512 48
WIRE 608 48 608 -64
WIRE 608 48 576 48
WIRE 640 48 640 -64
WIRE 640 48 608 48
WIRE 672 48 672 -64
WIRE 672 48 640 48
WIRE 800 48 800 -80
WIRE 800 48 672 48
WIRE -736 80 -736 48
WIRE -336 224 -336 208
WIRE -336 224 -448 224
WIRE -304 224 -336 224
WIRE -448 240 -448 224
WIRE -448 240 -496 240
WIRE -336 240 -336 224
WIRE -304 272 -304 224
WIRE -240 272 -304 272
WIRE 96 272 -112 272
WIRE 288 272 288 224
WIRE -448 304 -496 304
WIRE -272 304 -336 304
WIRE -240 304 -272 304
WIRE -64 304 -112 304
WIRE 32 304 16 304
WIRE 96 304 96 272
WIRE -448 320 -448 304
WIRE -240 336 -256 336
WIRE -96 336 -112 336
WIRE 32 352 32 304
WIRE 96 352 96 336
WIRE 96 352 32 352
WIRE -272 368 -336 368
WIRE -240 368 -272 368
WIRE -96 368 -112 368
WIRE 96 368 96 352
WIRE 288 368 288 336
WIRE 288 464 288 448
WIRE -496 480 -496 464
WIRE -496 528 -496 512
FLAG -416 -400 GH
FLAG -416 -112 GL
FLAG -48 -240 HS
FLAG -736 80 0
FLAG -496 464 +12V
FLAG 96 368 0
FLAG -496 528 0
FLAG -96 336 0
FLAG -336 208 +12V
FLAG -272 304 HB
FLAG -272 368 HS
FLAG -96 368 GL
FLAG -256 336 GH
FLAG 96 272 PWM
FLAG -16 -512 HD
FLAG 800 -256 vo
FLAG -736 -512 vi
FLAG -448 320 0
FLAG -16 48 LS
SYMBOL MiniSyms4\\voltage- 96 320 R0
WINDOW 3 -17 -49 VRight 0
WINDOW 123 0 0 Left 0
WINDOW 39 7 17 Left 0
SYMATTR Value PULSE(0 5 1u 1n 1n {0.3*3.125e-05} 3.125e-05)
SYMATTR SpiceLine Rser=1 Cpar=100n
SYMATTR InstName PWM2
SYMBOL MiniSyms4\\voltage- -496 496 R0
WINDOW 123 0 0 Left 0
WINDOW 39 11 39 Left 0
SYMATTR SpiceLine Rser=1
SYMATTR InstName V1
SYMATTR Value 12V
SYMBOL res 784 -176 R0
SYMATTR InstName Rload
SYMATTR Value 1.5
SYMBOL MiniSyms4\\voltage- -736 -240 R0
WINDOW 123 0 0 Left 0
WINDOW 39 7 17 Left 0
SYMATTR SpiceLine Rser=10m Cpar=1u
SYMATTR InstName V2
SYMATTR Value 50
SYMBOL AutoGenerated\\lm5104 -176 320 R0
SYMATTR InstName U1
SYMBOL res -368 -384 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R3
SYMATTR Value 4.7
SYMBOL res -368 -96 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 4.7
SYMBOL res 32 288 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 10k
SYMBOL schottky -288 -352 R90
WINDOW 0 40 0 VBottom 2
WINDOW 3 38 12 VTop 2
SYMATTR InstName D1
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL EXTRA\\IRF\\NMOSFET\\irfp260n -48 -400 R0
SYMATTR InstName U4
SYMBOL ind 288 -256 R90
WINDOW 0 5 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName L1
SYMATTR Value 300u
SYMATTR SpiceLine Ipk=15 Rser=30m Rpar=0 Cpar=0
SYMBOL polcap 496 -128 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C4
SYMATTR Value 470u
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=10 Irms=575m Rser=0.12 Lser=0 mfg="Panasonic" pn="ECA1AFQ471L" type="Al electrolytic"
SYMBOL zener 272 336 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D10
SYMATTR Value 1N5373B
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 272 352 R0
SYMATTR InstName R1
SYMATTR Value 1
SYMBOL res -224 -384 R0
SYMATTR InstName R7
SYMATTR Value 10k
SYMBOL res -208 -96 R0
SYMATTR InstName R8
SYMATTR Value 10k
SYMBOL EXTRA\\IRF\\NMOSFET\\irfp260n -48 -112 R0
SYMATTR InstName U2
SYMBOL cap -352 304 R0
WINDOW 0 18 48 Left 2
WINDOW 3 -21 30 Left 2
SYMATTR InstName C1
SYMATTR Value 1n
SYMBOL diode -320 240 M0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL cap -464 240 R0
SYMATTR InstName C5
SYMATTR Value 10u
SYMBOL cap -512 240 R0
SYMATTR InstName C6
SYMATTR Value 100n
SYMBOL zener -128 -96 R0
SYMATTR InstName D4
SYMATTR Value BZX84B12VL
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener -128 32 M180
WINDOW 3 24 0 Left 2
WINDOW 0 24 64 Left 2
SYMATTR Value BZX84B12VL
SYMATTR InstName D7
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res -272 -528 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 1m
SYMBOL MiniSyms4\\Ind- -80 -512 R90
WINDOW 3 8 0 VTop 2
WINDOW 0 0 0 VBottom 2
SYMATTR Value 3n
SYMATTR InstName L5
SYMATTR SpiceLine Rser=10u
SYMBOL schottky -288 -64 R90
WINDOW 0 40 0 VBottom 2
WINDOW 3 38 12 VTop 2
SYMATTR InstName D2
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 80 -192 R0
SYMATTR InstName R11
SYMATTR Value 1
SYMATTR SpiceLine tol=5 pwr=1
SYMBOL cap 80 -80 R0
SYMATTR InstName C9
SYMATTR Value 10n
SYMATTR SpiceLine V=6.3 Irms=25.8m Rser=5.11126 Lser=0
SYMBOL res 80 -480 R0
SYMATTR InstName R12
SYMATTR Value 1
SYMATTR SpiceLine tol=5 pwr=1
SYMBOL cap 80 -368 R0
SYMATTR InstName C10
SYMATTR Value 10n
SYMATTR SpiceLine V=6.3 Irms=25.8m Rser=5.11126 Lser=0
SYMBOL res -256 32 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R14
SYMATTR Value 1m
SYMBOL zener -128 -384 R0
WINDOW 3 59 69 Left 2
SYMATTR InstName D8
SYMATTR Value BZX84B12VL
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL zener -128 -256 M180
WINDOW 3 56 32 Left 2
WINDOW 0 24 64 Left 2
SYMATTR Value BZX84B12VL
SYMATTR InstName D9
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 176 -448 R0
SYMATTR InstName D5
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL schottky 176 -160 R0
SYMATTR InstName D6
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL polcap -544 -272 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C2
SYMATTR Value 4700u
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=63 Irms=1.95 Rser=0.028 Lser=0
SYMBOL cap -592 -272 R0
SYMATTR InstName C3
SYMATTR Value 0.1u
SYMATTR SpiceLine V=100 Irms=835m Rser=0.0936732 Lser=0 mfg="KEMET" pn="C1812C104K1RAC" type="X7R"
SYMBOL cap -624 -272 R0
SYMATTR InstName C7
SYMATTR Value 0.1u
SYMATTR SpiceLine V=100 Irms=835m Rser=0.0936732 Lser=0 mfg="KEMET" pn="C1812C104K1RAC" type="X7R"
SYMBOL cap -640 -272 R0
SYMATTR InstName C8
SYMATTR Value 0.1u
SYMATTR SpiceLine V=100 Irms=835m Rser=0.0936732 Lser=0 mfg="KEMET" pn="C1812C104K1RAC" type="X7R"
SYMBOL cap -672 -272 R0
SYMATTR InstName C11
SYMATTR Value 0.1u
SYMATTR SpiceLine V=100 Irms=835m Rser=0.0936732 Lser=0 mfg="KEMET" pn="C1812C104K1RAC" type="X7R"
SYMBOL polcap 448 -128 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C12
SYMATTR Value 470u
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=10 Irms=575m Rser=0.12 Lser=0 mfg="Panasonic" pn="ECA1AFQ471L" type="Al electrolytic"
SYMBOL polcap 400 -128 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C13
SYMATTR Value 470u
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=10 Irms=575m Rser=0.12 Lser=0 mfg="Panasonic" pn="ECA1AFQ471L" type="Al electrolytic"
SYMBOL polcap 352 -128 R0
WINDOW 3 24 56 Left 2
SYMATTR InstName C14
SYMATTR Value 470u
SYMATTR Description Capacitor
SYMATTR Type cap
SYMATTR SpiceLine V=10 Irms=575m Rser=0.12 Lser=0 mfg="Panasonic" pn="ECA1AFQ471L" type="Al electrolytic"
SYMBOL cap 560 -128 R0
SYMATTR InstName C15
SYMATTR Value 0.1u
SYMATTR SpiceLine V=100 Irms=835m Rser=0.0936732 Lser=0 mfg="KEMET" pn="C1812C104K1RAC" type="X7R"
SYMBOL cap 592 -128 R0
SYMATTR InstName C16
SYMATTR Value 0.1u
SYMATTR SpiceLine V=100 Irms=835m Rser=0.0936732 Lser=0 mfg="KEMET" pn="C1812C104K1RAC" type="X7R"
SYMBOL cap 624 -128 R0
SYMATTR InstName C17
SYMATTR Value 0.1u
SYMATTR SpiceLine V=100 Irms=835m Rser=0.0936732 Lser=0 mfg="KEMET" pn="C1812C104K1RAC" type="X7R"
SYMBOL cap 656 -128 R0
SYMATTR InstName C18
SYMATTR Value 0.1u
SYMATTR SpiceLine V=100 Irms=835m Rser=0.0936732 Lser=0 mfg="KEMET" pn="C1812C104K1RAC" type="X7R"
TEXT -240 488 Left 2 !.tran 0 1 0
