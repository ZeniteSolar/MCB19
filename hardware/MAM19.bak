EESchema Schematic File Version 4
LIBS:MAM19-cache
EELAYER 29 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 9
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Sheet
S 7300 2750 1350 1250
U 5AABFC1B
F0 "CANBUS" 60
F1 "canbus.sch" 60
F2 "SI" I L 7300 3050 60 
F3 "SO" O L 7300 2950 60 
F4 "CS" I L 7300 3150 60 
F5 "SCK" I L 7300 2850 60 
F6 "INT" O L 7300 3250 60 
F7 "GND" O R 8650 2900 60 
F8 "VCC" I R 8650 2800 60 
F9 "CAN_H" B R 8650 3000 60 
F10 "CAN_L" B R 8650 3100 60 
$EndSheet
$Sheet
S 7175 875  1050 500 
U 5AACFFEF
F0 "POWER SUPPLY" 60
F1 "supplies.sch" 60
F2 "GND" O R 8225 1175 60 
F3 "+5V_OUT" O L 7175 1175 60 
F4 "+18V_IN" I R 8225 1075 60 
$EndSheet
$Sheet
S 9675 1025 600  450 
U 5AAD16DD
F0 "CANBUS CONN" 60
F1 "canbus_connector.sch" 60
F2 "CAN_H" B L 9675 1275 60 
F3 "CAN_L" B L 9675 1375 60 
F4 "CAN_18V" O L 9675 1075 60 
F5 "CAN_GND" B L 9675 1175 60 
$EndSheet
Text Label 6900 3050 0    60   ~ 0
MOSI
Text Label 6900 2950 0    60   ~ 0
MISO
Text Label 6900 2850 0    60   ~ 0
SCK
Wire Wire Line
	9675 1275 9375 1275
Wire Wire Line
	8650 3100 9475 3100
Wire Wire Line
	9475 1375 9675 1375
Connection ~ 9275 1175
Wire Wire Line
	7175 1175 6975 1175
Wire Wire Line
	8850 2800 8650 2800
Wire Wire Line
	9275 1175 9675 1175
$Comp
L power:+5V #PWR0105
U 1 1 5BE8FCAE
P 8850 2700
F 0 "#PWR0105" H 8850 2550 50  0001 C CNN
F 1 "+5V" H 8900 2900 50  0000 C CNN
F 2 "" H 8850 2700 50  0001 C CNN
F 3 "" H 8850 2700 50  0001 C CNN
	1    8850 2700
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0104
U 1 1 5C9032F1
P 5450 2550
F 0 "#PWR0104" H 5450 2400 50  0001 C CNN
F 1 "+5V" H 5500 2750 50  0000 C CNN
F 2 "" H 5450 2550 50  0001 C CNN
F 3 "" H 5450 2550 50  0001 C CNN
	1    5450 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 2550 5450 2650
Wire Wire Line
	5450 2650 5600 2650
$Comp
L power:GND #PWR0106
U 1 1 5C9038CC
P 5450 2900
F 0 "#PWR0106" H 5450 2650 50  0001 C CNN
F 1 "GND" H 5500 2700 50  0000 C CNN
F 2 "" H 5450 2900 50  0001 C CNN
F 3 "" H 5450 2900 50  0001 C CNN
	1    5450 2900
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 2900 5450 2850
Wire Wire Line
	5450 2850 5600 2850
$Sheet
S 7175 1550 1050 500 
U 5CDDB481
F0 "POWER SUPPLY +15V" 50
F1 "supplies15.sch" 50
F2 "GND" O R 8225 1850 50 
F3 "+15V_OUT" I L 7175 1850 50 
F4 "+18V_IN" I R 8225 1750 50 
$EndSheet
Wire Wire Line
	9175 1750 9175 1075
Wire Wire Line
	9275 1175 9275 1850
Connection ~ 9275 1850
$Comp
L power:+15V #PWR0101
U 1 1 5CDDDCBF
P 6975 1850
F 0 "#PWR0101" H 6975 1700 50  0001 C CNN
F 1 "+15V" H 6990 2023 50  0000 C CNN
F 2 "" H 6975 1850 50  0001 C CNN
F 3 "" H 6975 1850 50  0001 C CNN
	1    6975 1850
	1    0    0    -1  
$EndComp
$Comp
L power:+5V #PWR0102
U 1 1 5CDDDD31
P 6975 1175
F 0 "#PWR0102" H 6975 1025 50  0001 C CNN
F 1 "+5V" H 7025 1375 50  0000 C CNN
F 2 "" H 6975 1175 50  0001 C CNN
F 3 "" H 6975 1175 50  0001 C CNN
	1    6975 1175
	1    0    0    -1  
$EndComp
Wire Wire Line
	6975 1850 7175 1850
$Comp
L power:GND #PWR0103
U 1 1 5CDE058E
P 9125 2250
F 0 "#PWR0103" H 9125 2000 50  0001 C CNN
F 1 "GND" H 9130 2077 50  0000 C CNN
F 2 "" H 9125 2250 50  0001 C CNN
F 3 "" H 9125 2250 50  0001 C CNN
	1    9125 2250
	1    0    0    -1  
$EndComp
Wire Wire Line
	9125 2250 9125 2175
Wire Wire Line
	9125 2175 9275 2175
Wire Wire Line
	9275 1850 9275 2175
Wire Wire Line
	8850 2700 8850 2800
Wire Wire Line
	9275 2175 9275 2900
Connection ~ 9275 2175
Wire Wire Line
	8650 2900 9275 2900
Wire Wire Line
	9375 1275 9375 3000
Wire Wire Line
	9375 3000 8650 3000
Wire Wire Line
	9475 1375 9475 3100
Wire Wire Line
	8225 1075 9175 1075
Wire Wire Line
	8225 1175 9275 1175
Wire Wire Line
	8225 1750 9175 1750
$Comp
L Device:Fuse_Small F501
U 1 1 5CDF621D
P 9450 1075
F 0 "F501" H 9450 1260 50  0000 C CNN
F 1 "500mA" H 9450 1169 50  0000 C CNN
F 2 "Fuse:Fuse_1206_3216Metric_Pad1.42x1.75mm_HandSolder" H 9450 1075 50  0001 C CNN
F 3 "~" H 9450 1075 50  0001 C CNN
	1    9450 1075
	1    0    0    -1  
$EndComp
Wire Wire Line
	9350 1075 9175 1075
Connection ~ 9175 1075
Wire Wire Line
	9550 1075 9675 1075
Wire Wire Line
	6725 2850 7300 2850
Wire Wire Line
	6725 2950 7300 2950
Wire Wire Line
	6725 3050 7300 3050
Wire Wire Line
	6725 3150 7300 3150
Wire Wire Line
	6725 3250 7300 3250
$Sheet
S 3150 2350 1125 1650
U 5CE2CBB9
F0 "driver" 50
F1 "driver.sch" 50
F2 "PWM" I R 4275 3350 50 
F3 "IR2127_FAULT" I R 4275 3450 50 
F4 "VCC" I R 4275 2650 50 
F5 "GND" I R 4275 2850 50 
F6 "SOURCE" I L 3150 3225 50 
F7 "GATE" I L 3150 3125 50 
F8 "DRAIN" I L 3150 3025 50 
$EndSheet
$Comp
L power:+15V #PWR0110
U 1 1 5CE739E2
P 4425 2550
F 0 "#PWR0110" H 4425 2400 50  0001 C CNN
F 1 "+15V" H 4440 2723 50  0000 C CNN
F 2 "" H 4425 2550 50  0001 C CNN
F 3 "" H 4425 2550 50  0001 C CNN
	1    4425 2550
	1    0    0    -1  
$EndComp
Wire Wire Line
	4425 2550 4425 2650
$Comp
L power:GND #PWR0111
U 1 1 5CE74A51
P 4425 2900
F 0 "#PWR0111" H 4425 2650 50  0001 C CNN
F 1 "GND" H 4475 2700 50  0000 C CNN
F 2 "" H 4425 2900 50  0001 C CNN
F 3 "" H 4425 2900 50  0001 C CNN
	1    4425 2900
	1    0    0    -1  
$EndComp
Wire Wire Line
	4425 2850 4425 2900
$Sheet
S 5600 4275 725  300 
U 5CE780F5
F0 "cap_bank" 50
F1 "cap_bank.sch" 50
F2 "-BANK" I L 5600 4475 50 
F3 "+BANK" I L 5600 4375 50 
$EndSheet
Wire Wire Line
	4275 2850 4425 2850
Wire Wire Line
	4275 2650 4425 2650
$Sheet
S 3150 4275 1125 750 
U 5CE88217
F0 "chopper" 50
F1 "chopper.sch" 50
F2 "-BANK" I R 4275 4475 50 
F3 "SOURCE" I L 3150 4950 50 
F4 "GATE" I L 3150 4850 50 
F5 "DRAIN" I L 3150 4750 50 
F6 "-MOTOR" I R 4275 4950 50 
F7 "+MOTOR" I R 4275 4850 50 
F8 "+BANK" I R 4275 4375 50 
$EndSheet
Wire Wire Line
	3150 3025 2525 3025
Wire Wire Line
	2525 3025 2525 4750
Wire Wire Line
	2525 4750 3150 4750
Wire Wire Line
	3150 3125 2625 3125
Wire Wire Line
	2625 3125 2625 4850
Wire Wire Line
	2625 4850 3150 4850
Wire Wire Line
	3150 4950 2725 4950
Wire Wire Line
	2725 4950 2725 3225
Wire Wire Line
	2725 3225 3150 3225
Wire Wire Line
	8225 1850 9275 1850
$Comp
L Connector_Generic:Conn_02x02_Counter_Clockwise J101
U 1 1 5D0C30D2
P 9800 2175
F 0 "J101" H 9850 2392 50  0000 C CNN
F 1 "GNDC1" H 9850 2301 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x02_P2.54mm_Vertical" H 9800 2175 50  0001 C CNN
F 3 "~" H 9800 2175 50  0001 C CNN
	1    9800 2175
	1    0    0    -1  
$EndComp
Wire Wire Line
	9600 2175 9575 2175
Wire Wire Line
	9575 2175 9575 2275
Wire Wire Line
	9575 2275 9600 2275
Wire Wire Line
	10100 2175 10125 2175
Wire Wire Line
	10125 2175 10125 2275
Wire Wire Line
	10125 2275 10100 2275
Wire Wire Line
	10125 2275 10125 2350
Wire Wire Line
	10125 2350 9575 2350
Wire Wire Line
	9575 2350 9575 2275
Connection ~ 10125 2275
Connection ~ 9575 2275
Wire Wire Line
	9275 2175 9575 2175
Connection ~ 9575 2175
$Comp
L Connector_Generic:Conn_02x02_Counter_Clockwise J102
U 1 1 5D0DDF3C
P 10425 2175
F 0 "J102" H 10475 2392 50  0000 C CNN
F 1 "GNDC2" H 10475 2301 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x02_P2.54mm_Vertical" H 10425 2175 50  0001 C CNN
F 3 "~" H 10425 2175 50  0001 C CNN
	1    10425 2175
	1    0    0    -1  
$EndComp
Wire Wire Line
	10225 2175 10200 2175
Wire Wire Line
	10200 2175 10200 2275
Wire Wire Line
	10200 2275 10225 2275
Wire Wire Line
	10200 2350 10125 2350
Connection ~ 10125 2350
Wire Wire Line
	10200 2275 10200 2350
Connection ~ 10200 2275
Wire Wire Line
	10200 2350 10750 2350
Wire Wire Line
	10750 2350 10750 2275
Wire Wire Line
	10750 2175 10725 2175
Connection ~ 10200 2350
Wire Wire Line
	10725 2275 10750 2275
Connection ~ 10750 2275
Wire Wire Line
	10750 2275 10750 2175
$Sheet
S 5600 2350 1125 1650
U 5AACA401
F0 "MCU" 60
F1 "atmega328p.sch" 60
F2 "SPI_MISO" I R 6725 2950 60 
F3 "SPI_MOSI" O R 6725 3050 60 
F4 "MCP_INT" I R 6725 3250 60 
F5 "VCC" I L 5600 2650 60 
F6 "GND" O L 5600 2850 60 
F7 "SPI_SCK" O R 6725 2850 50 
F8 "MCP_SS" O R 6725 3150 50 
F9 "PWM" O L 5600 3350 50 
F10 "IR_2127_FAULT" O L 5600 3450 50 
$EndSheet
Wire Wire Line
	4275 4375 5600 4375
Wire Wire Line
	4275 4475 5600 4475
$Comp
L Connector:Screw_Terminal_01x04 J105
U 1 1 5D1221BC
P 4400 3850
F 0 "J105" H 4400 3550 50  0000 C CNN
F 1 "PWM/IR D" H 4300 4050 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x04_P2.54mm_Vertical" H 4400 3850 50  0001 C CNN
F 3 "~" H 4400 3850 50  0001 C CNN
	1    4400 3850
	-1   0    0    1   
$EndComp
Wire Wire Line
	4925 3650 4925 3750
Wire Wire Line
	4925 3950 5275 3950
Wire Wire Line
	5275 3750 4925 3750
Connection ~ 4925 3750
Wire Wire Line
	4925 3750 4925 3850
Connection ~ 4925 3850
Wire Wire Line
	4925 3850 4925 3950
Wire Wire Line
	5600 3350 5200 3350
Wire Wire Line
	5200 3350 5200 3650
Wire Wire Line
	5200 3650 5275 3650
Wire Wire Line
	5600 3450 5125 3450
Wire Wire Line
	5125 3450 5125 3850
Wire Wire Line
	5125 3850 5275 3850
Wire Wire Line
	4600 3650 4925 3650
Wire Wire Line
	4275 3450 4725 3450
Wire Wire Line
	4600 3850 4925 3850
Wire Wire Line
	4275 3350 4650 3350
$Comp
L power:GND #PWR0108
U 1 1 5D16B79F
P 4925 4000
F 0 "#PWR0108" H 4925 3750 50  0001 C CNN
F 1 "GND" H 4930 3827 50  0000 C CNN
F 2 "" H 4925 4000 50  0001 C CNN
F 3 "" H 4925 4000 50  0001 C CNN
	1    4925 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	4925 3950 4925 4000
Connection ~ 4925 3950
Wire Wire Line
	4600 3950 4650 3950
Wire Wire Line
	4650 3950 4650 3350
Wire Wire Line
	4725 3450 4725 3750
Wire Wire Line
	4725 3750 4600 3750
$Comp
L Connector:Screw_Terminal_01x04 J06
U 1 1 5D125463
P 5475 3750
F 0 "J06" H 5375 3950 50  0000 L CNN
F 1 "PWM/IR C" H 5200 3450 50  0000 L CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_1x04_P2.54mm_Vertical" H 5475 3750 50  0001 C CNN
F 3 "~" H 5475 3750 50  0001 C CNN
	1    5475 3750
	1    0    0    -1  
$EndComp
Connection ~ 9575 2350
Connection ~ 10125 2725
Wire Wire Line
	10125 2725 10125 2625
Wire Wire Line
	10125 2725 10125 2800
Wire Wire Line
	10125 2725 10100 2725
Wire Wire Line
	10125 2800 10200 2800
Connection ~ 10125 2800
Wire Wire Line
	10100 2625 10125 2625
Wire Wire Line
	10200 2725 10200 2800
Connection ~ 10200 2725
Wire Wire Line
	10225 2725 10200 2725
Wire Wire Line
	10200 2800 10750 2800
Connection ~ 10200 2800
Wire Wire Line
	10200 2625 10200 2725
Wire Wire Line
	10225 2625 10200 2625
Wire Wire Line
	10750 2725 10750 2625
Connection ~ 10750 2725
Wire Wire Line
	10725 2725 10750 2725
Connection ~ 9575 2725
Wire Wire Line
	10750 2625 10725 2625
Wire Wire Line
	10750 2800 10750 2725
Wire Wire Line
	9575 2800 10125 2800
Wire Wire Line
	9575 2725 9575 2800
Connection ~ 9575 2625
Wire Wire Line
	9575 2625 9575 2350
Wire Wire Line
	9575 2625 9600 2625
Wire Wire Line
	9575 2725 9575 2625
Wire Wire Line
	9600 2725 9575 2725
$Comp
L Connector_Generic:Conn_02x02_Counter_Clockwise J104
U 1 1 5D0EC259
P 10425 2625
F 0 "J104" H 10475 2842 50  0000 C CNN
F 1 "GNDD2" H 10475 2751 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x02_P2.54mm_Vertical" H 10425 2625 50  0001 C CNN
F 3 "~" H 10425 2625 50  0001 C CNN
	1    10425 2625
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_02x02_Counter_Clockwise J103
U 1 1 5D0EB53A
P 9800 2625
F 0 "J103" H 9850 2842 50  0000 C CNN
F 1 "GNDD1" H 9850 2751 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x02_P2.54mm_Vertical" H 9800 2625 50  0001 C CNN
F 3 "~" H 9800 2625 50  0001 C CNN
	1    9800 2625
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_02x02_Counter_Clockwise J107
U 1 1 5D1F722B
P 9800 3100
F 0 "J107" H 9850 3317 50  0000 C CNN
F 1 "HOLD1" H 9850 3226 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x02_P2.54mm_Vertical" H 9800 3100 50  0001 C CNN
F 3 "~" H 9800 3100 50  0001 C CNN
	1    9800 3100
	1    0    0    -1  
$EndComp
$Comp
L Connector_Generic:Conn_02x02_Counter_Clockwise J108
U 1 1 5D1F81B5
P 10400 3100
F 0 "J108" H 10450 3317 50  0000 C CNN
F 1 "HOLD2" H 10450 3226 50  0000 C CNN
F 2 "Connector_PinHeader_2.54mm:PinHeader_2x02_P2.54mm_Vertical" H 10400 3100 50  0001 C CNN
F 3 "~" H 10400 3100 50  0001 C CNN
	1    10400 3100
	1    0    0    -1  
$EndComp
Wire Wire Line
	9600 3100 9575 3100
Wire Wire Line
	9575 3100 9575 3200
Wire Wire Line
	9575 3200 9600 3200
Wire Wire Line
	10100 3100 10125 3100
Wire Wire Line
	10125 3100 10125 3200
Wire Wire Line
	10125 3200 10100 3200
Wire Wire Line
	10200 3100 10175 3100
Wire Wire Line
	10175 3100 10175 3200
Wire Wire Line
	10175 3200 10200 3200
Wire Wire Line
	10700 3100 10725 3100
Wire Wire Line
	10725 3100 10725 3200
Wire Wire Line
	10725 3200 10700 3200
Wire Wire Line
	10725 3200 10725 3275
Wire Wire Line
	10725 3275 10175 3275
Wire Wire Line
	9575 3275 9575 3200
Connection ~ 10725 3200
Connection ~ 9575 3200
Wire Wire Line
	10125 3200 10125 3275
Connection ~ 10125 3200
Connection ~ 10125 3275
Wire Wire Line
	10125 3275 9575 3275
Wire Wire Line
	10175 3200 10175 3275
Connection ~ 10175 3200
Connection ~ 10175 3275
Wire Wire Line
	10175 3275 10125 3275
$EndSCHEMATC
